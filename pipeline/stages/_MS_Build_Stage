def packageType
def trace 
def STAGE_NAME = "BUILD"

def execute() 
{
  stage(STAGE_NAME) {
	 trace.startStage(STAGE_NAME)

	 try {

      def nugent = load("pipeline/components/_nugent")
      nugent.executeMSBuild(packageType)

      def logstash = load("pipeline/components/_logstash")
      logstash.copyLogFiles()
    }
    catch (err) {
      throw err
    }
    finally {
      trace.endStage(STAGE_NAME)
    }
  }
}
return this


