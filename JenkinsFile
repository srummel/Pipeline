node('master') {
  checkout scm 

  // Load tracing definition file	
  def trace = load 'pipeline/pipelineTrace.groovy'
  trace.startStage(WORKSPACE, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'Pipeline')
	
  // Load Appropriate Stages	
  load 'pipeline/stages/_MS_Build_Stage'
  load 'pipeline/stages/_MS_Coverage_Stage'
  load 'pipeline/stages/_MS_Install_Stage'
  load 'pipeline/stages/_MS_ArtifactUpload_Stage'
  load 'pipeline/stages/_MS_DeployToDev_Stage'
  load 'pipeline/stages/_MS_DeployToTest_Stage'


  
  trace.endStage(WORKSPACE, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'Pipeline')	
}

