  node('master') {
    checkout scm

    def packageType = "Shawns Package"
//	properties([packageType

    echo "######### packageType==" + packageType + " ###############"

    // Load tracing definition file
    def trace = load 'pipeline/pipelineTrace.groovy'
    trace.startStage(WORKSPACE, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'Pipeline')

    // Load Appropriate Stages
//    def buid = load 'pipeline/stages/_MS_Build_Stage'
	stage('Build') {

  def trace = load 'pipeline/pipelineTrace.groovy'
  trace.startStage(${env.WORKSPACE}, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'BUILD')
  
//  echo "** packageType==build **" 
  
//  try {

//    def nugent = load("pipeline/components/_nugent")
//    nugent.executeMSBuild('${packageType}')

//    def logstash = load("pipeline/components/_logstash")
//    logstash.copyLogFiles()
//  }
//  catch (err) {
//    throw err
//  }
//  finally {
//    trace.endStage(${env.WORKSPACE}, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'BUILD')
// }
}
//	build.packageType = '${packageType}'
//   echo "** BUILD LOADED **"

//    load 'pipeline/stages/_MS_Coverage_Stage'
//    load 'pipeline/stages/_MS_Install_Stage'
//    load 'pipeline/stages/_MS_ArtifactUpload_Stage'
//    load 'pipeline/stages/_MS_DeployToDev_Stage'
//    load 'pipeline/stages/_MS_DeployToTest_Stage'

    trace.endStage(WORKSPACE, "${env.BUILD_NUMBER}", "${env.GIT_BRANCH}", 'Pipeline')
  }
